<%- include('../partials/header.ejs') -%>

<button id="navToggle" class="<%- styles['nav-toggle'] -%>" type="button">
  <span class="<%- styles['icon-bar'] -%>"></span>
  <span class="<%- styles['icon-bar'] -%>"></span>
  <span class="<%- styles['icon-bar'] -%>"></span>
</button>

<div class="<%- styles.brand -%>"><a href="<%- meta.serverPath -%>" class="<%- styles.logo -%>"></a></div>

<% if (meta.repository) { %>
<a href="<%- meta.repository -%>" title="<%-siteTitle-%> Github Repo" target="_blank" class="<%- styles.github -%>"></a>
<% } %>

<aside id="offCanvasNav" class="<%- styles.sidebar -%>">
  <nav class="<%-styles.navigation-%>">
    <ul class="<%- styles.ul -%>">
      <% nav.forEach((item) => { %>
        <li class="<%- styles.li -%> <%= (item.key === key || item.key === parentKey) ? styles.active : '' %>">
        <a href="<%= (meta.production) ? meta.serverPath : '/' %><%-item.path-%>" title="<%-item.title-%>" class="<%- styles.a -%>"><%-item.title-%></a>
        <% if (item.children) { %>
        <ul class="<%- styles.ul -%>" <%= (meta.showSubSectionsOnParent) ? 'data-gumshoe' : '' %>>
          <% item.children.forEach((child) => { %>
          <li class="<%- styles.li -%> <%= (child.key === key) ? styles.active : '' %>">

            <% if (!meta.showSubSectionsOnParent) { %>
            <a href="<%= (meta.production) ? meta.serverPath : '/' %><%-child.path-%>" title="<%-child.title-%>" class="<%- styles.a -%>">
              <%-child.title-%>
            </a>
            <% } else { %>
            <a href="#<%-child.key%>" title="<%-child.title-%>" data-scroll class="<%- styles.a -%>">
              <%-child.title-%>
            </a>
            <% } %>

          </li>
          <% }); %>
        </ul>
        <% } %>
      </li>
      <% }); %>
    </ul>
  </nav>
</aside>

<section class="<%- styles.main -%>">
  <article>
    <h1 class="<%-styles['page-header']-%> <%- styles.h1 -%>" <%= (meta.showSubSectionsOnParent) ? 'data-gumshoe-header' : '' %>><%- title -%></h1>
    <% contents.forEach((item, index) => { %>
      <%- item -%>
    <% }); %>
  </article>
</section>

<%- include('../partials/footer.ejs') -%>
